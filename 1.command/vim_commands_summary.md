# Vim 基本操作と便利コマンドまとめ

## ■ 起動と終了

| 操作 | コマンド | 説明 |
|------|-----------|------|
| Vimを開く | `vim ファイル名` | 指定ファイルを編集モードで開く |
| 保存して終了 | `:wq` または `ZZ` | 書き込みして終了 |
| 保存せず終了 | `:q!` | 変更を破棄して終了 |
| 保存のみ | `:w` | ファイルを保存（終了しない） |
| ファイルを開いたまま別名保存 | `:w 新しいファイル名` | コピーを作る |

---

## ■ モードの種類

| モード | 入り方 | 説明 |
|---------|---------|------|
| ノーマルモード | 起動時デフォルト | コマンド入力（コピー・削除など） |
| 挿入モード | `i` / `a` / `o` | テキストを入力できる |
| ビジュアルモード | `v` | 範囲選択 |
| コマンドラインモード | `:` | 保存や検索などのコマンド入力 |

**モード切り替えの基本：**  
- `Esc` を押すといつでもノーマルモードに戻る。

---

## ■ 移動操作

| 操作 | コマンド | 説明 |
|------|-----------|------|
| 上下左右 | `h` `j` `k` `l` | ← ↓ ↑ → |
| 行頭 / 行末 | `0` / `$` | 行の先頭・末尾へ |
| 次の単語 / 前の単語 | `w` / `b` | 単語単位で移動 |
| ページ送り / 戻し | `Ctrl + f` / `Ctrl + b` | 1ページ分スクロール |
| 特定行へ移動 | `:数字` | 例：`:25` → 25行目へ |

---

## ■ 編集操作

| 操作 | コマンド | 説明 |
|------|-----------|------|
| 挿入 | `i` | 現在位置の前に入力開始 |
| 挿入（次の文字の後） | `a` | カーソルの後ろに入力 |
| 新しい行を下に作成 | `o` | 下に改行して挿入モード |
| 新しい行を上に作成 | `O` | 上に改行して挿入モード |
| 削除（1文字） | `x` | カーソル位置の文字削除 |
| 行削除 | `dd` | 現在行を削除 |
| コピー | `yy` | 現在行をコピー |
| 貼り付け | `p` | コピー／削除した内容を貼り付け |
| 元に戻す / やり直す | `u` / `Ctrl + r` | undo / redo |

---

## ■ 検索・置換

| 操作 | コマンド | 説明 |
|------|-----------|------|
| 検索 | `/単語` | 単語を検索（`n`で次を検索） |
| 逆方向検索 | `?単語` | 上方向に検索 |
| 単語置換（1行内） | `:s/old/new/` | 最初の1件だけ置換 |
| 単語置換（1行内すべて） | `:s/old/new/g` | 全て置換 |
| 全体置換 | `:%s/old/new/g` | ファイル全体を対象 |

---

## ■ ファイル操作・分割

| 操作 | コマンド | 説明 |
|------|-----------|------|
| 新しいファイルを開く | `:e ファイル名` | |
| 複数ファイルを同時編集 | `vim file1 file2` | |
| 横分割 | `:split ファイル名` または `:sp` | |
| 縦分割 | `:vsplit ファイル名` または `:vs` | |
| 分割間の移動 | `Ctrl + w` + `方向キー` | 例：`Ctrl + w + w` で次のウィンドウへ |

---

## ■ よく使う便利コマンド

| 操作 | コマンド | 説明 |
|------|-----------|------|
| ファイル名確認 | `:f` | 現在のファイル情報を表示 |
| 行番号表示 | `:set number` | 行番号ON |
| 行番号非表示 | `:set nonumber` | 行番号OFF |
| 自動インデントON | `:set autoindent` | |
| タブ幅変更 | `:set tabstop=4` | スペース4つ分に設定 |
| 全選択＋コピー | `ggVGy` | ファイル全体をコピー |
| コマンド履歴参照 | `q:` | 以前入力したコマンド履歴を確認 |

---

## ■ Vim練習のすすめ
1. `vimtutor` コマンドを実行（Vimの内蔵チュートリアル）  
2. 15分程度で基礎操作を体得できる。  
3. 学習中は「とにかくEscで戻る」を体に叩き込む。

---

## ■ まとめ
- **ノーマルモード中心で操作する思想**がVimの核心。  
- 慣れるとマウス不要でエディット効率が激増する。  
- サーバー作業・SSH接続・Docker環境で必須になる。

---

